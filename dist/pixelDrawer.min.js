!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.pixelDrawer=e():t.pixelDrawer=e()}(self,(function(){return(()=>{"use strict";var t={78:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});class i{constructor(){this.data=void 0}init(t,e,s=!0,i=4){this.alpha=s,this.width=t,this.height=e,this.stride=this.width*i}clearData(){const t=this.alpha?0:255,e=this.width,s=this.stride;let i=0;for(let r=0;r<this.height;r++)for(let a=0;a<e;a++)i=r*s+4*a,this.data[i]=0,this.data[i+1]=0,this.data[i+2]=0,this.data[i+3]=t}}class r extends i{constructor(){super(),this.linesBuffers=new Array}init(t,e,s=!0,i=4){super.init(t,e,s,i),this.bufferLength=this.width>this.height?this.width:this.height}clearData(t=-1){if(0===this.linesBuffers.length)return;if(t>=this.linesBuffers.length)throw new Error(`Index must be less than ${this.linesBuffers.length}`);const e=this.alpha?0:255;if(-1===t){let t=0;for(let s=0;s<this.height;s++)for(let i=0;i<this.width;i++)t=s*this.stride+4*i,this.data[t]=0,this.data[t+1]=0,this.data[t+2]=0,this.data[t+3]=e}else{const s=this.linesBuffers[t][0];for(let t=0;t<s.length;t++)this.data[s[t]]=0,this.data[s[t]+1]=0,this.data[s[t]+2]=0,this.data[s[t]+3]=e;s.length=0,this.linesBuffers[t][1].length=0}}draw(t,e,s,i,r){this.clearDataBuffer(this.linesBuffers.length-1),0===this.linesBuffers.length&&this.linesBuffers.push([new Array(this.bufferLength),new Array(this.bufferLength)]);const a=this.linesBuffers[this.linesBuffers.length-1][0],h=this.linesBuffers[this.linesBuffers.length-1][1];return this.internalDraw(t,e,s,i,((t,e,s)=>{a[t]=s,h[t]=e,this.data[s]=r[0],this.data[s+1]=r[1],this.data[s+2]=r[2],this.data[s+3]=r[3]})),0}addLine(t,e,s,i,r){this.linesBuffers.push([new Array(this.bufferLength),new Array(this.bufferLength)]);const a=this.linesBuffers.length-1,h=this.linesBuffers[a][0],n=this.linesBuffers[a][1];return this.internalDraw(t,e,s,i,((t,e,s)=>{h[t]=s,n[t]=e,this.data[s]=r[0],this.data[s+1]=r[1],this.data[s+2]=r[2],this.data[s+3]=r[3]})),a}internalDraw(t,e,s,i,r=((t,e,s)=>{})){let a=!1;Math.abs(t-s)<Math.abs(e-i)&&([t,e]=[e,t],[s,i]=[i,s],a=!0),t>s&&([t,s]=[s,t],[e,i]=[i,e]);const h=s-t,n=i-e,f=2*Math.abs(n),l=i>e?1:-1,d=2*h;let o=0,u=e,c=t,p=0;const g=()=>{o+=f,o>h&&(u+=l,o-=d)};if(a)for(;c<s;c++)p=c*this.stride+4*u,r(c,u,p),g();else for(;c<s;c++)p=u*this.stride+4*c,r(c,u,p),g()}}class a extends i{constructor(){super(),this.internalBuffer=new Array}init(t,e,s=!0,i=4){super.init(t,e,s,i)}clearInternalBuffer(){const t=this.alpha?0:255,e=this.internalBuffer;for(let s=0;s<e.length;s++)this.data[e[s][0]]=0,this.data[e[s][0]+1]=0,this.data[e[s][0]+2]=0,this.data[e[s][0]+3]=t,this.data[e[s][1]]=0,this.data[e[s][1]+1]=0,this.data[e[s][1]+2]=0,this.data[e[s][1]+3]=t,this.data[e[s][2]]=0,this.data[e[s][2]+1]=0,this.data[e[s][2]+2]=0,this.data[e[s][2]+3]=t,this.data[e[s][3]]=0,this.data[e[s][3]+1]=0,this.data[e[s][3]+2]=0,this.data[e[s][3]+3]=t}draw(t,e,s,i,r=1){this.clearInternalBuffer(),this.internalBuffer.length=0;const a=this.data;for(let h=0;h<r;h++)this.internalDraw(t,e,s+h,((t,e,s,r)=>{this.internalBuffer.push(new Int32Array([t,e,s,r])),a[t]=i[0],a[t+1]=i[1],a[t+2]=i[2],a[t+3]=i[3],a[e]=i[0],a[e+1]=i[1],a[e+2]=i[2],a[e+3]=i[3],a[s]=i[0],a[s+1]=i[1],a[s+2]=i[2],a[s+3]=i[3],a[r]=i[0],a[r+1]=i[1],a[r+2]=i[2],a[r+3]=i[3]}))}internalDraw(t,e,s,i=((t,e,s,i)=>{})){let r,a,h,n,f=0,l=s,d=1-2*s,o=0;const u=this.stride;for(;l>=0;)r=(e+l)*u+4*(t+f),a=(e-l)*u+4*(t+f),h=(e+l)*u+4*(t-f),n=(e-l)*u+4*(t-f),i(r,a,h,n),o=2*(d+l)-1,d<0&&o<=0?d+=2*++f+1:d>0&&o>=0?d-=2*--l+1:d+=2*(++f-l--)}}const h={getLineDrawer:function(){return new r},getCircleDrawer:function(){return new a}}}},e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,s),r.exports}return s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s(78)})()}));