!function(t,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?exports.pixelDrawer=s():t.pixelDrawer=s()}(self,(function(){return(()=>{"use strict";var t={221:(t,s,e)=>{e.r(s),e.d(s,{default:()=>n});class i{constructor(){this.data=void 0}init(t,s,e=!0,i=4){this.alpha=e,this.width=t,this.height=s,this.stride=this.width*i}clearAllData(){const t=this.alpha?0:255,s=this.width,e=this.stride;let i=0;for(let a=0;a<this.height;a++)for(let h=0;h<s;h++)i=a*e+4*h,this.data[i]=0,this.data[i+1]=0,this.data[i+2]=0,this.data[i+3]=t}setPixel(t,s){this.data[t]=s[0],this.data[t+1]=s[1],this.data[t+2]=s[2],this.data[t+3]=s[3]}}class a extends i{constructor(){super(),this.linesBuffers=new Array}init(t,s,e=!0,i=4){super.init(t,s,e,i),this.bufferLength=this.width>this.height?this.width:this.height}clearData(t=-1){if(0===this.linesBuffers.length)return;if(t>=this.linesBuffers.length)throw new Error(`Index must be less than ${this.linesBuffers.length}`);const s=this.alpha?0:255;if(-1===t){let t=0;for(let e=0;e<this.height;e++)for(let i=0;i<this.width;i++)t=e*this.stride+4*i,this.data[t]=0,this.data[t+1]=0,this.data[t+2]=0,this.data[t+3]=s}else{const e=this.linesBuffers[t][0];for(let t=0;t<e.length;t++)this.data[e[t]]=0,this.data[e[t]+1]=0,this.data[e[t]+2]=0,this.data[e[t]+3]=s;e.length=0,this.linesBuffers[t][1].length=0}}draw(t,s,e,i,a,h={}){0===this.linesBuffers.length&&this.linesBuffers.push([new Array(this.bufferLength),new Array(this.bufferLength)]);const r=this.linesBuffers[this.linesBuffers.length-1][0],n=this.linesBuffers[this.linesBuffers.length-1][1];if(h.sameLength){const h=this.alpha?0:255;this.internalDraw(t,s,e,i,((t,s,e)=>{this.data[r[t]]=0,this.data[r[t]+1]=0,this.data[r[t]+2]=0,this.data[r[t]+3]=h,r[t]=e,n[t]=s,this.data[e]=a[0],this.data[e+1]=a[1],this.data[e+2]=a[2],this.data[e+3]=a[3]}))}else this.clearData(this.linesBuffers.length-1),this.internalDraw(t,s,e,i,((t,s,e)=>{r[t]=e,n[t]=s,this.data[e]=a[0],this.data[e+1]=a[1],this.data[e+2]=a[2],this.data[e+3]=a[3]}));return 0}addLine(t,s,e,i,a,h=!0,r=-1){if(h){let h=0;r>-1&&r<this.linesBuffers.length?h=r:(this.linesBuffers.push([new Array(this.bufferLength),new Array(this.bufferLength)]),h=this.linesBuffers.length-1);const n=this.linesBuffers[h][0],f=this.linesBuffers[h][1];return this.internalDraw(t,s,e,i,((t,s,e)=>{n[t]=e,f[t]=s,this.data[e]=a[0],this.data[e+1]=a[1],this.data[e+2]=a[2],this.data[e+3]=a[3]})),h}return this.internalDraw(t,s,e,i,((t,s,e)=>{this.data[e]=a[0],this.data[e+1]=a[1],this.data[e+2]=a[2],this.data[e+3]=a[3]})),-1}internalDraw(t,s,e,i,a=((t,s,e)=>{})){let h=!1;Math.abs(t-e)<Math.abs(s-i)&&([t,s]=[s,t],[e,i]=[i,e],h=!0),t>e&&([t,e]=[e,t],[s,i]=[i,s]);const r=e-t,n=i-s,f=2*Math.abs(n),d=i>s?1:-1,l=2*r;let o=0,u=s,c=t,w=0;const g=()=>{o+=f,o>r&&(u+=d,o-=l)};if(h)for(let t=0;c<e;c++,t++)w=c*this.stride+4*u,a(t,u,w),g();else for(let t=0;c<e;c++,t++)w=u*this.stride+4*c,a(t,u,w),g()}shiftX(t=0,s=0,e){if(isNaN(t))throw new Error("Index must be a number");if(t>=this.linesBuffers.length)throw new Error(`Index must be less than ${this.linesBuffers.length}`);const i=4*s,a=this.linesBuffers[t][0],h=this.alpha?0:255;let r=0;for(let t=0;t<a.length;t++)r=a[t],this.data[r]=0,this.data[r+1]=0,this.data[r+2]=0,this.data[r+3]=h,this.data[r+i]=e[0],this.data[r+i+1]=e[1],this.data[r+i+2]=e[2],this.data[r+i+3]=e[3],a[t]=r+i}shiftY(t=0,s=0,e){if(isNaN(t))throw new Error("Index must be a number");if(t>=this.linesBuffers.length)throw new Error(`Index must be less than ${this.linesBuffers.length}`);const i=s*this.stride,a=this.linesBuffers[t][0],h=this.alpha?0:255;let r=0;for(let t=0;t<a.length;t++)r=a[t],this.data[r]=0,this.data[r+1]=0,this.data[r+2]=0,this.data[r+3]=h,this.data[r+i]=e[0],this.data[r+i+1]=e[1],this.data[r+i+2]=e[2],this.data[r+i+3]=e[3],a[t]=r+i}}class h extends i{constructor(){super(),this.internalBuffer=new Array}init(t,s,e=!0,i=4){super.init(t,s,e,i)}clearData(){const t=this.alpha?0:255,s=this.internalBuffer;for(let e=0;e<s.length;e++)this.data[s[e][0]]=0,this.data[s[e][0]+1]=0,this.data[s[e][0]+2]=0,this.data[s[e][0]+3]=t,this.data[s[e][1]]=0,this.data[s[e][1]+1]=0,this.data[s[e][1]+2]=0,this.data[s[e][1]+3]=t,this.data[s[e][2]]=0,this.data[s[e][2]+1]=0,this.data[s[e][2]+2]=0,this.data[s[e][2]+3]=t,this.data[s[e][3]]=0,this.data[s[e][3]+1]=0,this.data[s[e][3]+2]=0,this.data[s[e][3]+3]=t}draw(t,s,e,i,a=1){this.clearData(),this.internalBuffer.length=0;const h=this.data;for(let r=0;r<a;r++)this.internalDraw(t,s,e+r,((t,s,e,a)=>{this.internalBuffer.push(new Int32Array([t,s,e,a])),h[t]=i[0],h[t+1]=i[1],h[t+2]=i[2],h[t+3]=i[3],h[s]=i[0],h[s+1]=i[1],h[s+2]=i[2],h[s+3]=i[3],h[e]=i[0],h[e+1]=i[1],h[e+2]=i[2],h[e+3]=i[3],h[a]=i[0],h[a+1]=i[1],h[a+2]=i[2],h[a+3]=i[3]}))}internalDraw(t,s,e,i=((t,s,e,i)=>{})){let a,h,r,n,f=0,d=e,l=1-2*e,o=0;const u=this.stride;for(;d>=0;)a=(s+d)*u+4*(t+f),h=(s-d)*u+4*(t+f),r=(s+d)*u+4*(t-f),n=(s-d)*u+4*(t-f),i(a,h,r,n),o=2*(l+d)-1,l<0&&o<=0?l+=2*++f+1:l>0&&o>=0?l-=2*--d+1:l+=2*(++f-d--)}}class r extends i{constructor(){super()}init(t,s,e=!0,i=4){super.init(t,s,e,i),this._zBuffer=new Array(t*s)}updateZBuffer(){for(let t=0;t<this._zBuffer.length;t++)this._zBuffer[t]=-2147483648}draw(t,s,e,i){this.drawTriangle(t,s,e,i)}drawTriangle(t,s,e,i){let a,h,r,n,f,d;const l=this.width;t[1]>s[1]&&(a=t[0],t[0]=s[0],s[0]=a,a=t[1],t[1]=s[1],s[1]=a),t[1]>e[1]&&(a=t[0],t[0]=e[0],e[0]=a,a=t[1],t[1]=e[1],e[1]=a),s[1]>e[1]&&(a=s[0],s[0]=e[0],e[0]=a,a=s[1],s[1]=e[1],e[1]=a);const o=(e[0]-t[0])/(e[1]-t[1]),u=(s[0]-t[0])/(s[1]-t[1]),c=(e[0]-s[0])/(e[1]-s[1]);let w=(t[2]+s[2]+e[2])/2,g=0;for(n=t[1];n<=e[1];n++){h=t[0]+(n-t[1])*o,r=n<s[1]?t[0]+(n-t[1])*u:e[1]===s[1]?s[0]:s[0]+(n-s[1])*c,h>r&&(f=h,h=r,r=f),h=Math.round(h),r=Math.round(r);for(let t=h;t<r+1;t++)g=t+n*l,this._zBuffer[g]<w&&(d=n*this.stride+4*t,this.data[d]=i[0],this.data[d+1]=i[1],this.data[d+2]=i[2],this.data[d+3]=i[3],this._zBuffer[g]=w)}}}const n={getLineDrawer:function(){return new a},getCircleDrawer:function(){return new h},getTriangleDrawer:function(){return new r}}}},s={};function e(i){if(s[i])return s[i].exports;var a=s[i]={exports:{}};return t[i](a,a.exports,e),a.exports}return e.d=(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},e.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(221)})()}));